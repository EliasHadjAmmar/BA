
from SCons.Script import Command

rulers = Command('temp/rulers.csv',            # target path (output file)
        'input/families_rulers_imputed.dta',   # source path (input file)
        'Rscript code/Rulers.R')               # command line string

construction = Command('temp/construction_new.csv',
        'input/construction.csv',
        'Rscript code/Construction.R')

terr_sizes = Command('temp/terr_sizes.csv',
        'input/cities_families_1300_1918.dta',
        'Rscript code/LineageSize.R')

wages = Command('temp/wages.csv',
        'input/clean_crafts.xlsx',
        'Rscript code/Wages.R')

extinctions = Command('temp/last_rulers.csv',
        rulers,
        'Rscript code/LineageExtinctions.R')

cities = Command('output/cities.csv',
        ['input/cities_families_1300_1918.dta',
        construction, wages],
        'Rscript code/CombineCityData.R')

lineages = Command('output/lineages.csv',
        ['input/territory_codes.csv',
        terr_sizes, extinctions],
        'Rscript code/CombineLineageData.R')

data_build = Command('output/build.csv',
        [cities, lineages],
        'Rscript code/CombineAll.R')

